<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>换能博士</title>
    <link rel="stylesheet" href="index.css"/>

</head>
<body style="background-color: #f2f2f2" onmousewheel="return false;">
<div id='p1' style="text-align: center;background-color: #F2F2F2;height: 100%">


    <div style="text-align: center;">
        <img src="img/111.jpeg"  width="30%">

    </div>
    <div><img width="50%" style="margin-top: 5%" src="img/222.jpeg"></div>
    <div> <img width="50%" style="margin-top: 20%" src="img/ddd.jpeg"></div>
    <div onclick="change(1)"> <img  width="50%" style="margin-top: 30%" src="img/444.jpeg"></div>


</div>
<div id="p2" style="width: 100%;height: 100%;display: none; position: absolute;background-size:100% 100%; background-image: url(img/chushi.png)">

    <img  id="finger" class="ballon" src="img/手指.png" style="position: absolute;bottom: 13%; width: 14%;right: 29%"/>
    <div id="id" style="  width: 20%;
          height: 10%;

          position: absolute;
          left: 40%;
          bottom: 1%;
            display: none"><img class="moni" width="70%" src="img/dianji.png"></div>
</div>
<div id="p3" style="display: none">
    <img src="img/画面1改.gif" width="100%">
</div>
<div id="p4" style="display: none">
    <img src="img/1538880992823853%20(2).gif" width="100%">
</div>
<div id="p5" style="display: none">
    <img src="img/1538880992823853%20(3).gif" width="100%">
</div>
<div id="p6" style="display: none">
    <img src="img/1538880992823853%20(4).gif" width="100%">
</div>
<div id="p7" style="width:100%;height:100%;display: none;position: absolute;background-size:100% 100%; background-image: url(img/haha.png)">

    <a href="javascript:;" class="a-upload ballon" style="width: 20%">
        <input  id="btn_camera" type="file" accept="image/*" capture="camera" onchange="onTake()">点击拍照

    </a>

    <img  id="image"   style="opacity:0.5;height:17%;width: 25%;bottom: 37%;position: absolute;margin-left: -25%;border-bottom-left-radius: 50%;border-bottom-right-radius: 50px;"/>
</div>

<audio src="http://img.tukuppt.com/preview_music/00/04/16/preview-5b835ce5407a3211.mp3" id="myaudio"   controls autoplay loop="true" hidden="true"></audio>
<audio src="http://img.tukuppt.com/origin_music/00/07/60/pd-5b7a1e7c1c10c847.mp3" id="power"></audio>
</body>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script>

        function change(num) {
            console.log(num);
            if (num == 1) {
                $('#p1').css('display', 'none');
                $('#id').css('display', 'block');
                $('#p2').css('display', 'block');
            }
        }


        var _x_start, _y_start, _x_move, _y_move, _x_end, _y_end, left_start, top_start;
        document.getElementById("id").addEventListener("touchstart", function (e) {

            _x_start = e.touches[0].pageX;
            _y_start = e.touches[0].pageY;
            // console.log("start",_x_start)
            left_start = $("#id").css("left");
            top_start = $("#id").css("top");

        })
        document.getElementById("id").addEventListener("touchmove", function (e) {
            _x_move = e.touches[0].pageX;
            _y_move = e.touches[0].pageY;
            // console.log("move",_x_move)
            $("#id").css("left", parseFloat(_x_move) - parseFloat(_x_start) + parseFloat(left_start) + "px");
            $("#id").css("top", parseFloat(_y_move) - parseFloat(_y_start) + parseFloat(top_start) + "px");
            console.log(parseFloat(_y_move) - parseFloat(_y_start) + parseFloat(top_start));
            if (parseInt(parseFloat(_y_move) - parseFloat(_y_start) + parseFloat(top_start)) < $("#finger").offset().top) {


                $('#power')[0].play();
                $('#myaudio')[0].pause();

                var RR = window.setTimeout(function () {
                    $('#p1').css('display', 'none');
                    $('#p2').css('display', 'none');
                    $('#p3').css('display', 'block');
                    var t2 = window.setTimeout(function () {
                        $('#p3').css('display', 'none');
                        $('#p4').css('display', 'block');
                        var t3 = window.setTimeout(function () {
                            $('#p4').css('display', 'none');
                            $('#p5').css('display', 'block');
                            var t4 = window.setTimeout(function () {
                                $('#p5').css('display', 'none');
                                $('#p6').css('display', 'block');
                                var t4 = window.setTimeout(function () {
                                    $('#p6').css('display', 'none');
                                    $('#p7').css('display', 'block');
                                    $('#p5').css('display', 'none');


                                }, 6000);//使用字符串执行方法


                            }, 6000);//使用字符串执行方法

                        }, 6000);//使用字符串执行方法

                    }, 6000)

                }, 6000);//使用字符串执行方法


            }
        });
        document.getElementById("id").addEventListener("touchend", function (e) {
            var _x_end = e.changedTouches[0].pageX;
            var _y_end = e.changedTouches[0].pageY;
            // console.log("end",_x_end)
        });
        //阻止浏览器下拉事件
        $('body').on('touchmove', function (event) {
            event.preventDefault();
        });
        // or
        // document.addEventListener('touchmove', function(e){e.preventDefault()}, false);

        function onTake() {
            var file = document.getElementById("btn_camera").files[0];
            var reader = new FileReader();
            reader.onload = function (e) {
                document.getElementById("image").src = e.target.result;
            };
            reader.readAsDataURL(file);
        }



</script>
</html>